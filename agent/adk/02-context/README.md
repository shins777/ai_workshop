# ADK 대화형 에이전트 - 문맥 관리 (Context Management)

이 디렉터리는 ADK(에이전트 개발 키트) 프레임워크에서 에이전트의 **문맥(Context)**을 관리하는 다양한 패턴과 기술을 다룹니다.

지능적인 에이전트는 사용자와의 과거 대화를 기억하고, 현재 진행 중인 상태를 추적하며, 이를 바탕으로 일관성 있는 상호작용을 제공해야 합니다. ADK는 이를 위해 세션, 상태, 이벤트, 장기 메모리라는 3가지 핵심 문맥 관리 계층을 제공합니다.

## 문맥 관리의 3가지 계층

| 모듈 | 핵심 개념 | 주요 용도 | 저장 방식 |
| :--- | :--- | :--- | :--- |
| **[Session](./session/)** | 대화 기록 유지 | 멀티 턴(Multi-turn) 채팅 구현, 대화 흐름 보존. | DB, Memory, Cloud |
| **[State](./state/)** | 구조화된 상태 추적 | 작업 상태(진행중/완료), 사용자 선호도, 시스템 변수 관리. | 키-값(JSON) 기반 |
| **[Event](./event/)** | 실행 과정 모니터링 | 에이전트의 사고 과정, 도구 호출, 근거 데이터 상세 분석. | 이벤트 스트림 |

---

## 어느 기술을 사용해야 할까요?

### 1. "사용자가 방금 한 질문을 기억하게 하고 싶어요." ➔ **Session**
- 가장 기본적인 기능입니다. 대화 전체 맥락을 유지하여 "그거 다시 설명해줘"와 같은 지시어(Anaphora)를 이해하게 합니다.

### 2. "사용자가 지금 결제 단계인지, 배송지 입력 단계인지 알고 싶어요." ➔ **State**
- 대화 내용과는 별개로, 에이전트의 '현재 위치'나 '데이터'를 관리할 때 사용합니다. `state_delta`를 통해 명시적인 업데이트가 가능합니다.

### 3. "에이전트가 어떤 웹사이트를 참고해서 답변했는지 보여주고 싶어요." ➔ **Event**
- 에이전트의 작업 단계(Invocation)를 쪼개어 내부 데이터를 들여다봐야 할 때 사용합니다. 디버깅과 투명한 AI 구현에 필수적입니다.


---

## 시작하기 전에

1.  **환경 설정**: 이 디렉터리의 상위 폴더(`./`)에 `.env` 파일을 생성하고 필요한 API 키와 설정을 완료하세요.
2.  **프로젝트 구조**: 각 하위 폴더에는 독립적인 `agent.py`와 테스트용 `run.ipynb`, `runner.py`가 포함되어 있습니다.
3.  **학습 순서**: `session` ➔ `state` ➔ `event` ➔ `memory` 순서로 학습하는 것을 권장합니다.

## 라이선스
Apache License 2.0. Copyright 2025 Forusone.


