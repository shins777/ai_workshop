# ADK 구조화된 출력 예제 - Pydantic 스키마 (07-misc/output)

이 예제는 에이전트가 단순히 텍스트를 반환하는 것을 넘어, 미리 정의된 **Pydantic 스키마(Schema)**에 따라 구조화된 데이터(JSON 등)를 생성하는 방법을 보여줍니다.

## 주요 개념

- **Structured Output**: 에이전트의 응답 형식을 강제하여 프로그램에서 후처리가 용이하게 만듭니다.
- **Pydantic Schema**: Python의 표준 데이터 검증 라이브러리인 Pydantic을 사용하여 에이전트가 생성해야 할 데이터 구조를 정의합니다.

## 주요 구성 요소

### 1. 스키마 정의 (`schema.py`)
- **`SearchResult` 클래스**: `BaseModel`을 상속받아 `query`(질문), `intention`(의도), `result`(답변) 필드를 정의합니다. 각 필드는 `Field`를 통해 상세 설명을 포함할 수 있습니다.

### 2. 에이전트 정의 (`agent.py`)
- **`output_schema`**: `Agent` 인스턴스 생성 시 `output_schema=SearchResult`를 지정합니다. 
- 이를 통해 모델은 지시문에 따른 단순 텍스트가 아닌, 정의된 클래스의 구조를 갖춘 JSON 형태로 응답을 생성합니다.

## 사전 준비 사항

- 이 예제는 일반적으로 구글의 **Gemini** 모델을 사용하여 가장 정확한 구조화된 출력을 제공합니다.
- `.env` 파일에 유효한 `GOOGLE_API_KEY` 또는 Vertex AI 관련 프로젝트 설정이 필요합니다.

## 실행 및 테스트 방법

1. `07-misc` 폴더에서 `adk web`을 실행합니다.
2. `output` 에이전트를 선택하여 질문을 던집니다. (예: "서울의 오늘 날씨에 대해 알려줘")
3. 에이전트의 응답이 단순한 문장이 아닌, 쿼리, 의도, 결과가 명확히 분리된 구조체(JSON) 형태로 출력되는 것을 확인하세요.

## 특징
- **높은 신뢰성**: 응답 형식이 고정되어 있어 시스템 통합 시 파싱 오류를 줄여줍니다.
- **데이터 분석 용이**: 사용자의 질문 의도를 별도로 추출하여 머신러닝 학습 데이터나 통계 데이터로 활용하기 좋습니다.

## 라이선스
이 프로젝트는 Apache License 2.0을 따릅니다.
